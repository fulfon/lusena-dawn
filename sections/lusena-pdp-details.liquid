{%- liquid
  assign shipping_info = 'Wysyłamy z Polski w ciągu 24h. Dostawa InPost/kurier: 1–2 dni robocze. Darmowa dostawa od 199 zł.'
  assign returns_info = '60 dni na zwrot — nawet używanego produktu. Prosty formularz online, darmowy zwrot InPost.'
  assign guarantee_info = 'Przetestuj przez 60 nocy. Jeśli nie poczujesz różnicy, zwróć i otrzymaj pełny zwrot. Bez pytań.'

  if product != blank
    assign mf_shipping_info = product.metafields.lusena.pdp_shipping_info
    if mf_shipping_info != blank and mf_shipping_info.value != blank
      assign shipping_info = mf_shipping_info.value
    endif

    assign mf_returns_info = product.metafields.lusena.pdp_returns_info
    if mf_returns_info != blank and mf_returns_info.value != blank
      assign returns_info = mf_returns_info.value
    endif

    assign mf_guarantee_info = product.metafields.lusena.pdp_guarantee_info
    if mf_guarantee_info != blank and mf_guarantee_info.value != blank
      assign guarantee_info = mf_guarantee_info.value
    endif
  endif
-%}

{%- liquid
  assign override_style = ''
  if section.settings.padding_top > 0
    assign override_style = override_style | append: '--lusena-section-padding-top-desktop:' | append: section.settings.padding_top | append: 'px;'
  endif
  if section.settings.padding_bottom > 0
    assign override_style = override_style | append: '--lusena-section-padding-bottom-desktop:' | append: section.settings.padding_bottom | append: 'px;'
  endif
  if section.settings.padding_top_mobile > 0
    assign override_style = override_style | append: '--lusena-section-padding-top-mobile:' | append: section.settings.padding_top_mobile | append: 'px;'
  endif
  if section.settings.padding_bottom_mobile > 0
    assign override_style = override_style | append: '--lusena-section-padding-bottom-mobile:' | append: section.settings.padding_bottom_mobile | append: 'px;'
  endif
-%}
<section
  id="details"
  class="lusena-pdp-details border-t border-brand-bg lusena-spacing--standard"
  {% if override_style != blank %}
    style="{{ override_style }}"
  {% endif %}
>
  <div class="container">
    <h2 class="lusena-pdp-details__heading text-primary text-center lusena-gap-section-intro{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
      Szczegóły i pytania
    </h2>

    <div class="max-w-3xl mx-auto">
      <div class="w-full lusena-pdp-accordion" data-lusena-accordion-root data-lusena-accordion-single data-lusena-accordion-collapsible{% if settings.animations_reveal_on_scroll %} data-cascade{% endif %}
>
        <div class="lusena-pdp-accordion__item border-b border-secondary/20{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}" data-lusena-accordion-item data-lusena-accordion-value="shipping">
          <div class="flex">
            <button
              type="button"
              class="lusena-pdp-accordion__trigger flex flex-1 items-center justify-between py-4 min-h-[44px] font-medium transition-all hover:text-accent-cta text-left"
              data-lusena-accordion-trigger
              data-state="closed"
              aria-expanded="false"
            >
              Wysyłka i dostawa
              {% render 'lusena-icon', name: 'chevron-down', class: 'lusena-pdp-accordion__chevron h-4 w-4 shrink-0 transition-transform duration-200', stroke_width: 2 %}
            </button>
          </div>
          <div class="lusena-pdp-accordion__content overflow-hidden text-sm" data-lusena-accordion-content data-state="closed">
            <div class="lusena-pdp-accordion__body pb-4 pt-0 text-secondary">
              <p>{{ shipping_info | escape }}</p>
            </div>
          </div>
        </div>

        <div class="lusena-pdp-accordion__item border-b border-secondary/20{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}" data-lusena-accordion-item data-lusena-accordion-value="returns" data-lusena-accordion-returns>
          <div class="flex">
            <button
              type="button"
              class="lusena-pdp-accordion__trigger flex flex-1 items-center justify-between py-4 min-h-[44px] font-medium transition-all hover:text-accent-cta text-left"
              data-lusena-accordion-trigger
              data-state="closed"
              aria-expanded="false"
            >
              Zwroty i gwarancja 60 dni
              {% render 'lusena-icon', name: 'chevron-down', class: 'lusena-pdp-accordion__chevron h-4 w-4 shrink-0 transition-transform duration-200', stroke_width: 2 %}
            </button>
          </div>
          <div class="lusena-pdp-accordion__content overflow-hidden text-sm" data-lusena-accordion-content data-state="closed">
            <div class="lusena-pdp-accordion__body pb-4 pt-0 text-secondary">
              <p>{{ returns_info | escape }}</p>
              <p>{{ guarantee_info | escape }}</p>
            </div>
          </div>
        </div>

        <div class="lusena-pdp-accordion__item border-b border-secondary/20{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}" data-lusena-accordion-item data-lusena-accordion-value="authenticity">
          <div class="flex">
            <button
              type="button"
              class="lusena-pdp-accordion__trigger flex flex-1 items-center justify-between py-4 min-h-[44px] font-medium transition-all hover:text-accent-cta text-left"
              data-lusena-accordion-trigger
              data-state="closed"
              aria-expanded="false"
            >
              Czy to prawdziwy jedwab?
              {% render 'lusena-icon', name: 'chevron-down', class: 'lusena-pdp-accordion__chevron h-4 w-4 shrink-0 transition-transform duration-200', stroke_width: 2 %}
            </button>
          </div>
          <div class="lusena-pdp-accordion__content overflow-hidden text-sm" data-lusena-accordion-content data-state="closed">
            <div class="lusena-pdp-accordion__body pb-4 pt-0 text-secondary">
              <p>Tak, to 100% jedwab morwowy. Każda partia przechodzi kontrolę jakości i jest opisana pełną specyfikacją.</p>
            </div>
          </div>
        </div>

        <div class="lusena-pdp-accordion__item border-b border-secondary/20{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}" data-lusena-accordion-item data-lusena-accordion-value="oeko">
          <div class="flex">
            <button
              type="button"
              class="lusena-pdp-accordion__trigger flex flex-1 items-center justify-between py-4 min-h-[44px] font-medium transition-all hover:text-accent-cta text-left"
              data-lusena-accordion-trigger
              data-state="closed"
              aria-expanded="false"
            >
              Jak zweryfikować certyfikat OEKO-TEX?
              {% render 'lusena-icon', name: 'chevron-down', class: 'lusena-pdp-accordion__chevron h-4 w-4 shrink-0 transition-transform duration-200', stroke_width: 2 %}
            </button>
          </div>
          <div class="lusena-pdp-accordion__content overflow-hidden text-sm" data-lusena-accordion-content data-state="closed">
            <div class="lusena-pdp-accordion__body pb-4 pt-0 text-secondary">
              <p>Numer certyfikatu znajdziesz na materiałach produktu. Możesz go sprawdzić w oficjalnej bazie OEKO-TEX.</p>
            </div>
          </div>
        </div>

        <div class="lusena-pdp-accordion__item border-b border-secondary/20{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}" data-lusena-accordion-item data-lusena-accordion-value="care-faq">
          <div class="flex">
            <button
              type="button"
              class="lusena-pdp-accordion__trigger flex flex-1 items-center justify-between py-4 min-h-[44px] font-medium transition-all hover:text-accent-cta text-left"
              data-lusena-accordion-trigger
              data-state="closed"
              aria-expanded="false"
            >
              Jak prać jedwabną poszewkę?
              {% render 'lusena-icon', name: 'chevron-down', class: 'lusena-pdp-accordion__chevron h-4 w-4 shrink-0 transition-transform duration-200', stroke_width: 2 %}
            </button>
          </div>
          <div class="lusena-pdp-accordion__content overflow-hidden text-sm" data-lusena-accordion-content data-state="closed">
            <div class="lusena-pdp-accordion__body pb-4 pt-0 text-secondary">
              <ul class="list-disc pl-4 space-y-1 text-secondary/80">
                <li>Program delikatny, maksymalnie 30°C.</li>
                <li>Detergent do jedwabiu lub tkanin delikatnych.</li>
                <li>Suszenie na płasko, bez suszarki bębnowej.</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="lusena-pdp-accordion__item border-b border-secondary/20{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}" data-lusena-accordion-item data-lusena-accordion-value="origin">
          <div class="flex">
            <button
              type="button"
              class="lusena-pdp-accordion__trigger flex flex-1 items-center justify-between py-4 min-h-[44px] font-medium transition-all hover:text-accent-cta text-left"
              data-lusena-accordion-trigger
              data-state="closed"
              aria-expanded="false"
            >
              Dlaczego jedwab z Suzhou?
              {% render 'lusena-icon', name: 'chevron-down', class: 'lusena-pdp-accordion__chevron h-4 w-4 shrink-0 transition-transform duration-200', stroke_width: 2 %}
            </button>
          </div>
          <div class="lusena-pdp-accordion__content overflow-hidden text-sm" data-lusena-accordion-content data-state="closed">
            <div class="lusena-pdp-accordion__body pb-4 pt-0 text-secondary">
              <p>Suzhou i region Shengze to historyczne centrum jedwabiu. Ten region jest znany z wysokiej jakości włókna i stabilnego standardu produkcji.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% stylesheet %}
{% endstylesheet %}

{% schema %}
{
  "name": "PDP Details",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Spacing overrides (0 = use global default)"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top (desktop)",
      "min": 0,
      "max": 240,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom (desktop)",
      "min": 0,
      "max": 240,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "label": "Padding top (mobile)",
      "min": 0,
      "max": 240,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "label": "Padding bottom (mobile)",
      "min": 0,
      "max": 240,
      "step": 4,
      "unit": "px",
      "default": 0
    }
  ],
  "presets": [
    {
      "name": "PDP Details"
    }
  ]
}
{% endschema %}
